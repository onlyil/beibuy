(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chat"],{"293a":function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"header flex-center"},[a("div",{staticClass:"back",on:{click:s.goBack}}),a("span",[s._v("一号运维")])]),a("div",{staticClass:"content"},[s.showGoods?a("div",{staticClass:"goods"},[a("img",{staticClass:"pic",attrs:{src:s.goodsInfo.pic||s.pic,alt:""}}),a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[s._v(s._s(s.goodsInfo.title))]),a("div",{staticClass:"flex-between"},[a("p",[s._v("求带价："+s._s(s.goodsInfo.price||100))]),a("div",{staticClass:"btn flex-center",on:{click:s.goBuyConfirm}},[a("span",[s._v("立即抢单")])])])])]):s._e(),s._l(s.messages,(function(t,e){return a("div",{key:e,staticClass:"message-item"},[t.mine?[a("div",{staticClass:"mine"},[a("img",{staticClass:"avatar",attrs:{src:t.avatar,alt:""}}),a("div",{staticClass:"msg-box"},[a("p",{staticClass:"message"},[s._v(s._s(t.msg))])])])]:[a("div",{staticClass:"mine not"},[a("img",{staticClass:"avatar",attrs:{src:t.avatar,alt:""}}),a("div",{staticClass:"msg-box"},[a("p",{staticClass:"message"},[s._v(s._s(t.msg))])])])]],2)}))],2),a("div",{staticClass:"bottom-bar"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.text,expression:"text"}],staticClass:"input",attrs:{type:"text"},domProps:{value:s.text},on:{input:function(t){t.target.composing||(s.text=t.target.value)}}}),a("div",{staticClass:"send-btn flex-center",on:{click:s.sendMsg}},[a("span",[s._v("发送")])])])])},i=[],n=a("5b4e"),o={name:"chat",props:["id"],data:function(){return{showGoods:!1,goodsInfo:{},pic:"http://h0.hucdn.com/open201942/eb3512657c6fd2b7_251x201.jpeg",text:"",messages:[{mine:!0,avatar:"//h0.hucdn.com/open201918/0ab49db2491da2c2_180x180.png",msg:"你好，明天的飞机飞日本"},{mine:!1,avatar:"//h0.hucdn.com/open201918/0ab49db2491da2c2_180x180.png",msg:"大概几号回来呢"}]}},created:function(){this.getGoodsInfo()},methods:{getGoodsInfo:function(){var s=this;Object(n["ajax"])({url:"//47.92.121.225:8080/needs/get_one",data:{id:this.id},xhrFields:{withCredentials:!1},success:function(t){if(t.success){if(!t.data.length)return;s.showGoods=!0,s.goodsInfo=t.data[0]}},error:function(){}})},goBuyConfirm:function(){var s=this;Object(n["ajax"])({url:"//47.92.121.225:8080/seller/accept_needs",data:{uid:this.goodsInfo.uid,did:this.goodsInfo.id,sid:2},xhrFields:{withCredentials:!1},success:function(t){t.success?s.$router.push({name:"buyConfirm",params:{id:s.goodsInfo.id}}):s.$createToast({txt:t.message,type:"txt"}).show()},error:function(){}})},sendMsg:function(){this.text&&(this.messages.push({mine:!0,avatar:"//h0.hucdn.com/open201918/0ab49db2491da2c2_180x180.png",msg:this.text}),this.text="")},goBack:function(){this.$router.go(-1)}}},c=o,d=(a("56b9"),a("2877")),r=Object(d["a"])(c,e,i,!1,null,"02c922c3",null);t["default"]=r.exports},"2f28":function(s,t,a){},"56b9":function(s,t,a){"use strict";var e=a("2f28"),i=a.n(e);i.a}}]);
//# sourceMappingURL=chat.9005c3ad.js.map